{"version":3,"mappings":"4FAEE,yDAKF,YAA6B,CAC3B,GAAI,GAAa,UAEb,EAAa,EAAU,EAAW,KAAS,CAAC,EAC5C,EAAc,EAAU,EAAW,MAAU,CAAC,EAClD,MAAO,CAAC,EAAW,GACjB,EAAW,GACX,EAAY,GACZ,EAAY,GACZ,EAAW,EAAE,CACjB,CAEA,WAAmB,EAAmB,EAAM,CAC1C,GAAI,GAAiB,EAAmB,CAAiB,EACrD,EAAc,EAAmB,CAAc,EAC/C,EAAY,EAAmB,EAAa,CAAK,EACjD,EAAQ,GACZ,OAAQ,KAAK,GAAU,CACrB,GAAI,GAAQ,KAAK,MAAM,KAAK,SAAY,EAAU,GAAG,MAAO,EACxD,EAAO,CAAY,CAAU,GAAG,GACpC,EAAM,KAAK,CAAI,CAChB,CACD,MAAO,EACT,CAOA,WAA4B,EAAY,CACtC,GAAI,GAAO,OAAO,KAAK,CAAU,EAC7B,EAAM,EAAK,OAEX,EAAQ,KAAK,MAAM,KAAK,OAAM,EAAK,CAAG,EACtC,EAAM,EAAK,GACf,MAAO,GAAW,EACpB,CAEA,WAA4B,EAAY,EAAK,CAC3C,GAAI,GAAM,OAAO,KAAK,CAAU,EAC5B,EAAW,EAAI,MAAM,CAAC,EACtB,EAAI,EAAI,OACR,EACA,EAEJ,KAAO,KACL,EAAQ,KAAK,MAAO,GAAI,GAAK,KAAK,OAAM,CAAE,EAC1C,EAAO,EAAS,GAChB,EAAS,GAAS,EAAS,GAC3B,EAAS,GAAK,EAEhB,GAAI,GAAO,EAAS,MAAM,EAAG,CAAI,EAC7B,EAAQ,GACZ,OAAS,KAAO,GAAM,CACpB,GAAI,GAAM,EAAK,GACf,EAAM,KAAK,EAAW,EAAI,CAC3B,CACD,MAAO,EACT,CAGA,GAAI,GAAW,UAAW,CACxB,GAAI,GAAgB,EAAE,gBAAgB,EACtC,EAAc,MAAK,EACnB,GAAI,GAAW,IACb,OAAQ,KAAK,GACX,EAAc,OAAO,EAAS,GAAK,OAAO,CAEhD,EAEA,EAAE,UAAW,CACX,IACA,EAAE,qBAAqB,EAAE,MACrB,UAAW,CAAE,GAAW,CAAE,CAChC,CAAC","names":[],"sources":["../../js/generate_limericks.js"],"sourcesContent":["// temp workaround for https://github.com/vitejs/vite/issues/4786\nif (import.meta.env.MODE !== 'development') {\n  import('vite/modulepreload-polyfill')  // https://vitejs.dev/config/#build-polyfillmodulepreload\n}\n\nimport $ from \"jquery\"\n\nfunction generate_limerick() {\n  let line_types = limericks;  // eslint-disable-line\n\n  let long_lines = get_lines(line_types['long'], 3);\n  let short_lines = get_lines(line_types['short'], 2);\n  return [long_lines[0],\n    long_lines[1],\n    short_lines[0],\n    short_lines[1],\n    long_lines[2]];\n}\n\nfunction get_lines(emphasis_patterns, count){\n  let last_syllables = dict_random_choice(emphasis_patterns);\n  let last_tokens = dict_random_choice(last_syllables);\n  let line_sets = dict_random_sample(last_tokens, count);\n  let lines = [];\n  for(let k in line_sets){\n    let index = Math.floor(Math.random() * (line_sets[k].length));\n    let line = format_line(line_sets[k][index]);\n    lines.push(line);\n  }\n  return lines;\n}\n\n\nfunction format_line(line) {\n  return line;\n}\n\nfunction dict_random_choice(population) {\n  let keys = Object.keys(population);\n  let max = keys.length;\n  // creating random choice key\n  let index = Math.floor(Math.random() * max);\n  let key = keys[index];\n  return population[key];\n}\n\nfunction dict_random_sample(population, size){\n  let arr = Object.keys(population);\n  let shuffled = arr.slice(0),\n      i = arr.length,\n      temp,\n      index;\n\n  while (i--) {\n    index = Math.floor((i + 1) * Math.random());\n    temp = shuffled[index];\n    shuffled[index] = shuffled[i];\n    shuffled[i] = temp;\n  }\n  let keys = shuffled.slice(0, size);\n  let lines = [];\n  for (let idx in keys) {\n    let key = keys[idx];\n    lines.push(population[key])\n  }\n  return lines;\n}\n\n\nlet generate = function() {\n  let limerick_body = $(\".limerick-body\");\n  limerick_body.empty();\n  let limerick = generate_limerick();\n    for(let l in limerick) {\n      limerick_body.append(limerick[l] + \"<br/>\");\n    }\n};\n// run on ready\n$(function() {\n  generate();\n  $(\"#generate-limericks\").click(\n      function() { generate(); });\n});"],"file":"assets/limericks.4221f979.js"}